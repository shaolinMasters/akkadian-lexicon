<!DOCTYPE html>
<html lang="en" class="h-100">
<head>
    <title>Search</title>
    <link href="https://cdn.jsdelivr.net/npm/simple-keyboard@3.5.40/build/css/index.min.css" rel="stylesheet">
    <!--/*/ <th:block th:include="fragments/header-files.html">
            </th:block> /*/-->
    <link rel="stylesheet" th:href="@{/css/search.css}"/>
</head>
<body class="d-flex flex-column h-100">
<header th:replace="fragments/header.html"></header>
<main>
    <section class="bg-light">
        <div class="container p-5">
            <form th:object="${searchObjectDTO}" method="get" th:action="@{/search}">
                <div class="row mb-3 text-center">
                    <div class="col-md-4">
                        <label>
                            Word
                            <br>
                            <input id="word" type="radio" th:name="option" value="word">
                        </label>
                    </div>
                    <div class="col-md-4">
                        <label>
                            King
                            <br>
                            <input type="radio" th:name="option" value="king">
                        </label>
                    </div>
                    <div class="col-md-4">
                        <label>
                            Source
                            <br>
                            <input type="radio" th:name="option" value="source">
                        </label>
                    </div>
                </div>
                <hr>
                <div id="search-field" class="row-cols-1">
                    <div>
                        <label for="search-word">Search:</label>
                        <input class="input" type="text" id="search-word" th:name="word">
                        <input type="submit" value="search">

                        <div class="simple-keyboard p-3" style="display: none"></div>
                    </div>

                </div>
                <div id="king-field">
                    <div>
                        <tr th:each="king: ${kings}">
                            <td>
                                <a th:href="@{'/search?option=source&king=' + ${king.getName()}}">
                                    <span th:text="${king.getName()}"></span>
                                    <span th:if="${king.getRegnalYearFrom() != null}"
                                          th:text="' from ' + ${king.getRegnalYearFrom()}"></span>
                                    <span th:if="${king.getRegnalYearTo() != null}" th:text="' to ' + ${king.getRegnalYearTo()}"></span>
                                </a>
                            </td>
                            <br>
                        </tr>
                    </div>
                </div>
                <div id="errorMessage">
                    <span th:if="${error != null}" th:text="${error}"></span>
                </div>
            </form>
        </div>
    </section>
    <div class="container">
        <div id="resultSegment">
            <tr id="vocabularyFormsSegment" th:each="word: ${words}">
                <td>
                    <div th:unless="${#strings.isEmpty(word)}">
                        <h4>Matches:</h4>
                        <p>Nominative: </p>
                        <p th:text="${word.getVocabularyForm().getNominative()}">Nominative</p>
                        <p>Sumerian Form: </p>
                        <p th:text="${word.getVocabularyForm().getSumerianForm()}">Sumerian Form</p>
                        <p>Meaning: </p>
                        <p th:text="${word.getVocabularyForm().getMeaning()}">Meaning</p>
                    </div>
                    <hr>
                </td>
            </tr>
            <tr id="sourcesSegment" th:each="source: ${sources}">
                <td>
                    <div th:unless="${#strings.isEmpty(source)}">
                        <h4>Matches:</h4>
                        <p>
                            <span>Title: </span>
                            <span th:text="${source.getTitle()}"> title</span>
                        </p>
                        <p th:unless="${#strings.isEmpty(source.getBibliography())}">
                            <span>Bibliography: </span>
                            <span th:text="${source.getBibliography()}"> bibliography</span>
                        </p>
                        <p th:unless="${#strings.isEmpty(source.getCatalogueRef())}">
                            <span>Catalogue Reference: </span>
                            <span th:text="${source.getCatalogueRef()}"> catalogue reference</span>
                        </p>
                        <p>
                            <span>Text: </span>
                            <span th:text="${source.getText()}"> text</span>
                        </p>
                    </div>
                    <hr>
                </td>
            </tr>
        </div>
    </div>
</main>
<footer th:replace="fragments/footer.html"></footer>

<script type="text/javascript" th:src="@{/js/search.js}"></script>
<script src="https://cdn.jsdelivr.net/npm/simple-keyboard@3.5.40/build/index.min.js"></script>
<script th:src="@{/js/virtualKeyboard.js}"></script>
</body>
</html>
