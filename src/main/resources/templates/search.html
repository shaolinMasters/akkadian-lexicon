<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Search</title>
</head>
<body>
<form th:object="${searchObjectDTO}" method="get" th:action="@{/search}">

    <label>
        <input id="word" type="radio" th:name="option" value="word" th:checked="${words!=null}">
        Word
    </label>
    <br>
    <label>
        <input type="radio" th:name="option" value="king" th:checked="${kings!=null}">
        King
    </label>
    <br>
    <label>
        <input type="radio" th:name="option" value="source" th:checked="${sources!=null}">
        Source
    </label>
    <div id="search-field" th:style="${words == null ? 'display:none' : 'display:block'}">
        <label for="search-word">Search:</label>
        <input type="text" id="search-word" th:name="word">
        <input type="submit" value="search">
    </div>
    <div id="vocabularyFormsSegment">
        <tr th:each="word: ${words}">
            <td>
                <div id="vocabularyFormSegment" th:unless="${#strings.isEmpty(word)}">
                    <hr>
                    <h4>Matches:</h4>
                    <p>Nominative: </p>
                    <p th:text="${word.getVocabularyForm().getNominative()}">Nominative</p>
                    <p>Sumerian Form: </p>
                    <p th:text="${word.getVocabularyForm().getSumerianForm()}">Sumerian Form</p>
                    <p>Meaning: </p>
                    <p th:text="${word.getVocabularyForm().getMeaning()}">Meaning</p>
                </div>
            </td>
        </tr>
    </div>
</form>

<script>
    const radioButtons = document.querySelectorAll('input[type="radio"]');
    const searchField = document.getElementById('search-field');

    radioButtons.forEach(radioButton => {
        radioButton.addEventListener('change', () => {
            if (radioButton.value === 'word') {
                searchField.style.display = 'block';
            } else {
                searchField.style.display = 'none';
                const vocabularyFormsSegment = document.getElementById('vocabularyFormsSegment');
                vocabularyFormsSegment.style.display = 'none';
                console.log("Word was checked but now unchecked");

            }
        });
    });
</script>

</body>
</html>
